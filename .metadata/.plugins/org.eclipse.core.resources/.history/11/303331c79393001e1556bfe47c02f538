package br.fateczl.com.agis.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.GetMapping;

import br.fateczl.com.agis.model.Disciplina;
import br.fateczl.com.agis.service.CursoService;
import br.fateczl.com.agis.service.DisciplinaService;

@Controller
public class DisciplinaController {
	@Autowired
	private CursoService cserv;
	
	@Autowired
	private DisciplinaService dserv;
	
	@GetMapping("/disciplina")
	public String get(ModelMap model) {
		model.addAttribute("disciplina", new Disciplina());
		model.addAttribute("cursos", cserv.listarTudo());
		return "crudDisciplina/disciplinaForm";
	}
	
	@GetMapping("/disciplina/lista")
	public String listar(ModelMap model) throws Exception {
		model.addAttribute("disciplinas", dserv.listarTudo());
		return "crudDisciplina/disciplinaTable";
	}
}
